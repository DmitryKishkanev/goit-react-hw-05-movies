{"version":3,"file":"static/js/986.a94c36a7.chunk.js","mappings":"8JAMOA,eAAeC,EAAYC,GAAuB,IAAbC,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAClD,IASE,aARuBG,EAAAA,EAAMC,IAAIN,EAAU,CACzCO,OAAQ,CACNN,QACAO,SAAU,QACVC,KAAM,MAIMC,IAClB,CAAE,MAAOC,GAEP,MADAC,QAAQD,MAAM,6JAAiCA,GACzCA,CACR,CACF,CAlBAN,EAAAA,EAAMQ,SAASC,QAAU,gCACzBT,EAAAA,EAAMQ,SAASE,QAAQC,OAAsB,cAAC,UAAAC,OCH5C,uP,sGCCF,MAAMC,EAAmBC,EAAAA,EAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qIAQ7BC,EAAiBJ,EAAAA,EAAOK,GAAEC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,uCAK1BI,EAAqBP,EAAAA,EAAOQ,GAAEC,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,oCAI9BO,EAAuBV,EAAAA,EAAOW,OAAMC,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,wJ,aCT1C,MAkEA,EAlEgBU,KACd,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCxB,EAAO2B,IAAYH,EAAAA,EAAAA,UAAS,OAC7B,QAAEI,IAAYC,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,MAoCjB,OA9BAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAa,IAAIC,gBAwBvB,MAtBwB/C,WACtB,IACE,MAAMgD,QAAwB/C,EAAAA,EAAAA,GAAY,UAADkB,OAAWsB,EAAO,YAAY,CACrEQ,OAAQH,EAAWG,SAErBb,GAA0B,OAAfY,QAAe,IAAfA,OAAe,EAAfA,EAAiBE,UAAW,IACvCV,EAAS,KACX,CAAE,MAAO3B,GACY,eAAfA,EAAMsC,KACRrC,QAAQsC,IAAI,qBAEZZ,EAAS,2BAADrB,OACqBN,EAAMwC,SAAW,kBAE9CvC,QAAQD,MAAM,8BAA+BA,GAEjD,CAAC,QACC0B,GAAW,EACb,GAEFe,GAEO,KACLR,EAAWS,UAEZ,CAACd,KAGFe,EAAAA,EAAAA,MAACpC,EAAgB,CAAAqC,SAAA,CACdnB,GACCoB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eACD5C,GACF6C,EAAAA,EAAAA,KAAA,KAAAD,SAAI5C,IACiB,IAAnBsB,EAAQ9B,QACVqD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEHC,EAAAA,EAAAA,KAACjC,EAAc,CAAAgC,SACZtB,EAAQwB,IAAIC,IACXJ,EAAAA,EAAAA,MAAC5B,EAAkB,CAAA6B,SAAA,EACjBC,EAAAA,EAAAA,KAAA,MAAAD,SAAKG,EAAOC,UACZH,EAAAA,EAAAA,KAAA,KAAAD,SAAIG,EAAOE,YAFYF,EAAOG,QAOtCL,EAAAA,EAAAA,KAAC3B,EAAoB,CAACiC,KAAK,SAASC,QApDpBC,KAClBvB,EAAS,OAmDkDc,SAAC,a","sources":["moviesApi.js","config.js","components/Reviews/Reviews.styled.js","components/Reviews/Reviews.js"],"sourcesContent":["import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, query = '') {\r\n  try {\r\n    const response = await axios.get(endpoint, {\r\n      params: {\r\n        query,\r\n        language: 'en-US',\r\n        page: 1,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Ошибка при получении фильмов:', error);\r\n    throw error;\r\n  }\r\n}\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n","import styled from '@emotion/styled';\r\n\r\nconst ReviewsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px 15px;\r\n\r\n  box-shadow: 0px 6px 10px -2px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst ReviewsSection = styled.ul`\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\n\r\nconst ReviewsSectionItem = styled.li`\r\n  list-style-type: none;\r\n`;\r\n\r\nconst ReviewsSectionButton = styled.button`\r\n  margin-left: auto;\r\n\r\n   transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.07);\r\n`;\r\n\r\nexport {\r\n  ReviewsContainer,\r\n  ReviewsSection,\r\n  ReviewsSectionItem,\r\n  ReviewsSectionButton,\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchMovies } from 'moviesApi';\r\nimport {\r\n  ReviewsContainer,\r\n  ReviewsSection,\r\n  ReviewsSectionItem,\r\n  ReviewsSectionButton,\r\n} from 'components/Reviews/Reviews.styled';\r\n\r\nconst Reviews = () => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const handleClose = () => {\r\n    navigate(`..`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const getMovieReviews = async () => {\r\n      try {\r\n        const resMovieReviews = await fetchMovies(`/movie/${movieId}/reviews`, {\r\n          signal: controller.signal,\r\n        });\r\n        setReviews(resMovieReviews?.results || []);\r\n        setError(null);\r\n      } catch (error) {\r\n        if (error.name === 'AbortError') {\r\n          console.log('Request canceled');\r\n        } else {\r\n          setError(\r\n            `Failed to load reviews: ${error.message || 'Unknown error'}`,\r\n          );\r\n          console.error('Error while receiving data:', error);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getMovieReviews();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <ReviewsContainer>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : error ? (\r\n        <p>{error}</p>\r\n      ) : reviews.length === 0 ? (\r\n        <p>We don't have any reviews for this movie</p>\r\n      ) : (\r\n        <ReviewsSection>\r\n          {reviews.map(review => (\r\n            <ReviewsSectionItem key={review.id}>\r\n              <h4>{review.author}</h4>\r\n              <p>{review.content}</p>\r\n            </ReviewsSectionItem>\r\n          ))}\r\n        </ReviewsSection>\r\n      )}\r\n      <ReviewsSectionButton type=\"button\" onClick={handleClose}>\r\n        Close\r\n      </ReviewsSectionButton>\r\n    </ReviewsContainer>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n"],"names":["async","fetchMovies","endpoint","query","arguments","length","undefined","axios","get","params","language","page","data","error","console","defaults","baseURL","headers","common","concat","ReviewsContainer","styled","div","_templateObject","_taggedTemplateLiteral","ReviewsSection","ul","_templateObject2","ReviewsSectionItem","li","_templateObject3","ReviewsSectionButton","button","_templateObject4","Reviews","reviews","setReviews","useState","loading","setLoading","setError","movieId","useParams","navigate","useNavigate","useEffect","controller","AbortController","resMovieReviews","signal","results","name","log","message","getMovieReviews","abort","_jsxs","children","_jsx","map","review","author","content","id","type","onClick","handleClose"],"sourceRoot":""}