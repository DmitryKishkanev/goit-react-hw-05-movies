{"version":3,"file":"static/js/630.ee0d8dd6.chunk.js","mappings":"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","sources":["moviesApi.js","config.js","components/BackLink/BackLink.styled.js","components/BackLink/BackLink.js","components/MoviesItem/MoviesItem.js","pages/MovieDetails/MovieDetails.js"],"sourcesContent":["import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, query = '') {\r\n  try {\r\n    const response = await axios.get(endpoint, {\r\n      params: {\r\n        query,\r\n        language: 'en-US',\r\n        page: 1,\r\n        // include_adult: false,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Ошибка при получении фильмов:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nfetchMovies('trending/movie/day').then(result => console.log(result));\r\n\r\nconst movies = [\r\n  { id: 'm-1', name: 'Movie 1' },\r\n  { id: 'm-2', name: 'Movie 2' },\r\n  { id: 'm-3', name: 'Movie 3' },\r\n];\r\n\r\nexport const getMovies = () => {\r\n  return movies;\r\n};\r\n\r\nexport const getMovieByName = movieName => {\r\n  return movies.find(\r\n    movie => movie.name.toLowerCase().trim() === movieName.toLowerCase().trim(),\r\n  );\r\n};\r\n\r\nexport const getMovieById = movieId => {\r\n  return movies.find(movie => movie.id === movieId);\r\n};\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n","import styled from '@emotion/styled';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const StyledLink = styled(Link)`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 8px 0;\r\n  color: black;\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n\r\n  :hover,\r\n  :focus {\r\n    color: orangered;\r\n  }\r\n`;\r\n","import { HiArrowLeft } from 'react-icons/hi';\r\nimport { StyledLink } from 'components/BackLink/BackLink.styled';\r\n\r\nconst BackLink = ({ to, children }) => {\r\n  return (\r\n    <StyledLink to={to}>\r\n      <HiArrowLeft size=\"24\" />\r\n      {children}\r\n    </StyledLink>\r\n  );\r\n};\r\n\r\nexport default BackLink;\r\n","const MoviesItem = ({ movie }) => {\r\n  return (\r\n    <article>\r\n      <img\r\n        src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\r\n        alt={movie.title}\r\n      />\r\n      <h2>{movie.title}</h2>\r\n      <p>User Score: {movie.vote_average}</p>\r\n      <h3>Overview</h3>\r\n      <p>{movie.overview}</p>\r\n      <h4>Genres</h4>\r\n      <ul>\r\n        {movie.genres &&\r\n          movie.genres.map(genre => <li key={genre.id}>{genre.name}</li>)}\r\n      </ul>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default MoviesItem;\r\n","import { useParams, useLocation, NavLink, Outlet } from 'react-router-dom';\r\nimport { useRef, useState, useEffect, Suspense } from 'react';\r\nimport { fetchMovies } from 'moviesApi';\r\nimport BackLink from 'components/BackLink';\r\nimport MoviesItem from 'components/MoviesItem';\r\n\r\nconst MovieDetails = () => {\r\n  const [movie, setMovie] = useState({});\r\n  const { movieId } = useParams();\r\n  const location = useLocation();\r\n  const backLinkHref = useRef(location.state?.from ?? '/movies');\r\n\r\n  useEffect(() => {\r\n    const getMovies = async () => {\r\n      try {\r\n        const resMovies = await fetchMovies(`movie/${movieId}`);\r\n        setMovie(resMovies);\r\n      } catch (error) {\r\n        console.error('Error receiving movie:', error);\r\n      }\r\n    };\r\n    getMovies();\r\n  }, [movieId]);\r\n\r\n  if (!movie) {\r\n    return <p>Фильм не найден или данные ещё загружаются...</p>;\r\n  }\r\n  return (\r\n    <main>\r\n      <BackLink to={backLinkHref.current}>Go back</BackLink>\r\n      <MoviesItem movie={movie} />\r\n\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"cast\">Cast</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"reviews\">Reviews</NavLink>\r\n        </li>\r\n      </ul>\r\n      <Suspense fallback={<div>Loading subpage...</div>}>\r\n        <Outlet />\r\n      </Suspense>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n"],"names":["async","fetchMovies","endpoint","query","arguments","length","undefined","axios","get","params","language","page","data","error","console","defaults","baseURL","headers","common","concat","then","result","log","StyledLink","styled","Link","_templateObject","_taggedTemplateLiteral","_ref","to","children","_jsxs","_jsx","HiArrowLeft","size","movie","src","poster_path","alt","title","vote_average","overview","genres","map","genre","name","id","MovieDetails","_location$state$from","_location$state","setMovie","useState","movieId","useParams","location","useLocation","backLinkHref","useRef","state","from","useEffect","resMovies","getMovies","BackLink","current","MoviesItem","NavLink","Suspense","fallback","Outlet"],"sourceRoot":""}