{"version":3,"file":"static/js/311.35b77b0e.chunk.js","mappings":"+JAMOA,eAAeC,EAAYC,GAAuB,IAAbC,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAClD,IAUE,aATuBG,EAAAA,EAAMC,IAAIN,EAAU,CACzCO,OAAQ,CACNN,QACAO,SAAU,QACVC,KAAM,MAKMC,IAClB,CAAE,MAAOC,GAEP,MADAC,QAAQD,MAAM,6JAAiCA,GACzCA,CACR,CACF,CAnBAN,EAAAA,EAAMQ,SAASC,QAAU,gCACzBT,EAAAA,EAAMQ,SAASE,QAAQC,OAAsB,cAAC,UAAAC,OCH5C,wPDuBFlB,EAAY,sBAAsBmB,KAAKC,GAAUP,QAAQQ,IAAID,G,qFEpB7D,MAkEA,EAlEgBE,KACd,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCb,EAAOgB,IAAYH,EAAAA,EAAAA,UAAS,OAC7B,QAAEI,IAAYC,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,MAoCjB,OA9BAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAa,IAAIC,gBAwBvB,MAtBwBpC,WACtB,IACE,MAAMqC,QAAwBpC,EAAAA,EAAAA,IAAY,UAADkB,OAAWW,EAAO,YAAY,CACrEQ,OAAQH,EAAWG,SAErBb,GAA0B,OAAfY,QAAe,IAAfA,OAAe,EAAfA,EAAiBE,UAAW,IACvCV,EAAS,KACX,CAAE,MAAOhB,GACY,eAAfA,EAAM2B,KACR1B,QAAQQ,IAAI,qBAEZO,EAAS,2BAADV,OACqBN,EAAM4B,SAAW,kBAE9C3B,QAAQD,MAAM,8BAA+BA,GAEjD,CAAC,QACCe,GAAW,EACb,GAEFc,GAEO,KACLP,EAAWQ,UAEZ,CAACb,KAGFc,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACGlB,GACCmB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eACDhC,GACFiC,EAAAA,EAAAA,KAAA,KAAAD,SAAIhC,IACiB,IAAnBW,EAAQnB,QACVyC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEHC,EAAAA,EAAAA,KAAA,MAAAD,SACGrB,EAAQuB,IAAIC,IACXJ,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKG,EAAOC,UACZH,EAAAA,EAAAA,KAAA,KAAAD,SAAIG,EAAOE,YAFJF,EAAOG,QAOtBL,EAAAA,EAAAA,KAAA,UAAQM,KAAK,SAASC,QApDNC,KAClBtB,EAAS,OAmDoCa,SAAC,a","sources":["moviesApi.js","config.js","components/Reviews/Reviews.js"],"sourcesContent":["import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, query = '') {\r\n  try {\r\n    const response = await axios.get(endpoint, {\r\n      params: {\r\n        query,\r\n        language: 'en-US',\r\n        page: 1,\r\n        // include_adult: false,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Ошибка при получении фильмов:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nfetchMovies('trending/movie/day').then(result => console.log(result));\r\n\r\nconst movies = [\r\n  { id: 'm-1', name: 'Movie 1' },\r\n  { id: 'm-2', name: 'Movie 2' },\r\n  { id: 'm-3', name: 'Movie 3' },\r\n];\r\n\r\nexport const getMovies = () => {\r\n  return movies;\r\n};\r\n\r\nexport const getMovieByName = movieName => {\r\n  return movies.find(\r\n    movie => movie.name.toLowerCase().trim() === movieName.toLowerCase().trim(),\r\n  );\r\n};\r\n\r\nexport const getMovieById = movieId => {\r\n  return movies.find(movie => movie.id === movieId);\r\n};\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchMovies } from 'moviesApi';\r\n\r\nconst Reviews = () => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const handleClose = () => {\r\n    navigate(`..`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const getMovieReviews = async () => {\r\n      try {\r\n        const resMovieReviews = await fetchMovies(`/movie/${movieId}/reviews`, {\r\n          signal: controller.signal,\r\n        });\r\n        setReviews(resMovieReviews?.results || []);\r\n        setError(null);\r\n      } catch (error) {\r\n        if (error.name === 'AbortError') {\r\n          console.log('Request canceled');\r\n        } else {\r\n          setError(\r\n            `Failed to load reviews: ${error.message || 'Unknown error'}`,\r\n          );\r\n          console.error('Error while receiving data:', error);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getMovieReviews();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : error ? (\r\n        <p>{error}</p>\r\n      ) : reviews.length === 0 ? (\r\n        <p>We don't have any reviews for this movie</p>\r\n      ) : (\r\n        <ul>\r\n          {reviews.map(review => (\r\n            <li key={review.id}>\r\n              <h4>{review.author}</h4>\r\n              <p>{review.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <button type=\"button\" onClick={handleClose}>\r\n        Close\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n"],"names":["async","fetchMovies","endpoint","query","arguments","length","undefined","axios","get","params","language","page","data","error","console","defaults","baseURL","headers","common","concat","then","result","log","Reviews","reviews","setReviews","useState","loading","setLoading","setError","movieId","useParams","navigate","useNavigate","useEffect","controller","AbortController","resMovieReviews","signal","results","name","message","getMovieReviews","abort","_jsxs","children","_jsx","map","review","author","content","id","type","onClick","handleClose"],"sourceRoot":""}