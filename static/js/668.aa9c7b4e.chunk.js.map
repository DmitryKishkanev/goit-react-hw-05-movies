{"version":3,"file":"static/js/668.aa9c7b4e.chunk.js","mappings":"8LAGA,MAAMA,EAAaC,EAAAA,EAAOC,GAAEC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,6HAStBC,EAAYJ,EAAAA,EAAOK,GAAEC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,yMAcrBI,GAAYP,EAAAA,EAAAA,GAAOQ,EAAAA,GAAPR,CAAeS,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,uDAK3BO,EAAWV,EAAAA,EAAOW,IAAGC,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,8NAUrBU,EAAab,EAAAA,EAAOc,GAAEC,IAAAA,GAAAZ,EAAAA,EAAAA,GAAA,yC,aC9B5B,MAgCA,EAhCkBa,IAAiB,IAAhB,OAAEC,GAAQD,EAC3B,MAAME,GAAWC,EAAAA,EAAAA,MACjB,OACEC,EAAAA,EAAAA,KAACrB,EAAU,CAAAsB,SACRJ,EAAOK,IAAIC,IACVH,EAAAA,EAAAA,KAAChB,EAAS,CAAAiB,UACRG,EAAAA,EAAAA,MAACjB,EAAS,CAACkB,GAAE,WAAAC,OAAaH,EAAMI,IAAMC,MAAO,CAAEC,KAAMX,GAAWG,SAAA,EAC9DD,EAAAA,EAAAA,KAACV,EAAQ,CACPoB,IACEP,EAAMQ,cAAa,kCAAAL,OACmBH,EAAMQ,e,ksQAG9CC,IAAKT,EAAMU,SAEbb,EAAAA,EAAAA,KAACP,EAAU,CAAAQ,SAAEE,EAAMU,YAVPV,EAAMI,O,8CCVvBO,eAAeC,EAAYC,GAAwC,IAA9B,MAAEC,EAAQ,GAAE,OAAEC,GAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAUpE,aATuBG,EAAAA,EAAMC,IAAIP,EAAU,CACzCQ,OAAQ,CACNP,QACAQ,SAAU,QACVC,KAAM,GAERR,YAGcS,IAClB,CAdAL,EAAAA,EAAMM,SAASC,QAAU,gCACzBP,EAAAA,EAAMM,SAASE,QAAQC,OAAsB,cAAC,UAAAzB,OCH5C,uP,uFCCF,MAAM0B,E,OAAYpD,EAAOqD,GAAEnD,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+D,aCG3B,MAoCA,EApCamD,KACX,MAAOrC,EAAQsC,IAAaC,EAAAA,EAAAA,UAAS,IA2BrC,OAzBAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAa,IAAIC,gBAkBvB,MAhBkBzB,WAChB,IACE,MAAM0B,QAAkBzB,EAAAA,EAAAA,GAAY,qBAAsB,CACxDG,OAAQoB,EAAWpB,SAErBiB,EAAUK,EAAUC,QACtB,CAAE,MAAOC,GACP,GAAmB,eAAfA,EAAMC,MAAwC,iBAAfD,EAAME,KAEvC,OAEFC,QAAQH,MAAM,+BAAgCA,EAChD,GAEFI,GAEO,KACLR,EAAWS,QACXF,QAAQG,IAAI,kOAEb,KAGD5C,EAAAA,EAAAA,MAAA,QAAAH,SAAA,EACED,EAAAA,EAAAA,KAACgC,EAAS,CAAA/B,SAAC,oBACXD,EAAAA,EAAAA,KAACiD,EAAAA,EAAS,CAACpD,OAAQA,O","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.js","moviesApi.js","config.js","pages/Home/Home.styled.js","pages/Home/Home.js"],"sourcesContent":["import styled from '@emotion/styled';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst MoviesList = styled.ul`\r\n  display: flex;\r\n  gap: 30px;\r\n  flex-wrap: wrap;\r\n  justify-content: space-evenly;\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\n\r\nconst MovieItem = styled.li`\r\n  width: 400px;\r\n\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  list-style-type: none;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.03);\r\n  }\r\n`;\r\n\r\nconst MovieLink = styled(NavLink)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst MovieImg = styled.img`\r\n  margin-bottom: 6px;\r\n  width: 100%;\r\n  height: 225px;\r\n\r\n  object-fit: cover;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst MovieTitle = styled.h3`\r\n  margin: 0;\r\n  color: black;\r\n`;\r\n\r\nexport { MoviesList, MovieItem, MovieLink, MovieImg, MovieTitle };\r\n","import { useLocation } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport noPoster from 'img/no_poster.jpg';\r\nimport {\r\n  MoviesList,\r\n  MovieItem,\r\n  MovieLink,\r\n  MovieImg,\r\n  MovieTitle,\r\n} from 'components/MovieList/MovieList.styled';\r\n\r\nconst MovieList = ({ movies }) => {\r\n  const location = useLocation();\r\n  return (\r\n    <MoviesList>\r\n      {movies.map(movie => (\r\n        <MovieItem key={movie.id}>\r\n          <MovieLink to={`/movies/${movie.id}`} state={{ from: location }}>\r\n            <MovieImg\r\n              src={\r\n                movie.backdrop_path\r\n                  ? `https://image.tmdb.org/t/p/w500${movie.backdrop_path}`\r\n                  : noPoster\r\n              }\r\n              alt={movie.title}\r\n            />\r\n            <MovieTitle>{movie.title}</MovieTitle>\r\n          </MovieLink>\r\n        </MovieItem>\r\n      ))}\r\n    </MoviesList>\r\n  );\r\n};\r\n\r\nMovieList.propTypes = {\r\n  movies: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default MovieList;\r\n","import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, { query = '', signal } = {}) {\r\n  const response = await axios.get(endpoint, {\r\n    params: {\r\n      query,\r\n      language: 'en-US',\r\n      page: 1,\r\n    },\r\n    signal,\r\n  });\r\n\r\n  return response.data;\r\n}\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n","import styled from '@emotion/styled';\r\n\r\nconst HomeTitle = styled.h2`\r\n  margin-left: 0 !important;\r\n  text-align: center;\r\n`;\r\nexport { HomeTitle };\r\n","import { useState, useEffect } from 'react';\r\nimport { fetchMovies } from 'moviesApi';\r\nimport MovieList from 'components/MovieList';\r\nimport { HomeTitle } from 'pages/Home/Home.styled';\r\n\r\nconst Home = () => {\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const getMovies = async () => {\r\n      try {\r\n        const resMovies = await fetchMovies('trending/movie/day', {\r\n          signal: controller.signal,\r\n        });\r\n        setMovies(resMovies.results);\r\n      } catch (error) {\r\n        if (error.name === 'AbortError' || error.code === 'ERR_CANCELED') {\r\n          // Запрос отменён — просто игнорируем\r\n          return;\r\n        }\r\n        console.error('Error when receiving movies:', error);\r\n      }\r\n    };\r\n    getMovies();\r\n\r\n    return () => {\r\n      controller.abort();\r\n      console.log('Home: Компонент размонтирован, запрос прерван');\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <main>\r\n      <HomeTitle>Trending today</HomeTitle>\r\n      <MovieList movies={movies} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["MoviesList","styled","ul","_templateObject","_taggedTemplateLiteral","MovieItem","li","_templateObject2","MovieLink","NavLink","_templateObject3","MovieImg","img","_templateObject4","MovieTitle","h3","_templateObject5","_ref","movies","location","useLocation","_jsx","children","map","movie","_jsxs","to","concat","id","state","from","src","backdrop_path","alt","title","async","fetchMovies","endpoint","query","signal","arguments","length","undefined","axios","get","params","language","page","data","defaults","baseURL","headers","common","HomeTitle","h2","Home","setMovies","useState","useEffect","controller","AbortController","resMovies","results","error","name","code","console","getMovies","abort","log","MovieList"],"sourceRoot":""}