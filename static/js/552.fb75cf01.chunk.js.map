{"version":3,"file":"static/js/552.fb75cf01.chunk.js","mappings":"2RAEA,MAAMA,EAAgBC,EAAAA,EAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qIAQ1BC,EAAcJ,EAAAA,EAAOK,GAAEC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,kGAQvBI,EAAkBP,EAAAA,EAAOQ,GAAEC,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,kMAa3BO,EAAiBV,EAAAA,EAAOW,IAAGC,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,+JAO3BU,EAAYb,EAAAA,EAAOc,EAACC,IAAAA,GAAAZ,EAAAA,EAAAA,GAAA,+IAUpBa,EAAgBhB,EAAAA,EAAOc,EAACG,IAAAA,GAAAd,EAAAA,EAAAA,GAAA,oHASxBe,EAAoBlB,EAAAA,EAAOmB,OAAMC,IAAAA,GAAAjB,EAAAA,EAAAA,GAAA,4J,aC3CvC,MA4EA,EA5EakB,KACX,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC7B,QAAEK,IAAYC,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,MAoCjB,OA9BAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAa,IAAIC,gBAwBvB,MAtBqBC,WACnB,IACE,MAAMC,QAAqBC,EAAAA,EAAAA,GAAY,SAADC,OAAUV,EAAO,YAAY,CACjEW,OAAQN,EAAWM,SAErBjB,GAAwB,OAAZc,QAAY,IAAZA,OAAY,EAAZA,EAAcI,OAAQ,IAClCb,EAAS,KACX,CAAE,MAAOD,GACY,eAAfA,EAAMe,KACRC,QAAQC,IAAI,qBAEZhB,EAAS,6BAADW,OACuBZ,EAAMkB,SAAW,kBAEhDF,QAAQhB,MAAM,8BAA+BA,GAEjD,CAAC,QACCD,GAAW,EACb,GAEFoB,GAEO,KACLZ,EAAWa,UAEZ,CAAClB,KAGFmB,EAAAA,EAAAA,MAACjD,EAAa,CAAAkD,SAAA,CACXxB,GACCyB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eACDtB,GACFuB,EAAAA,EAAAA,KAAA,KAAAD,SAAItB,IACkB,IAApBL,EAAS6B,QACXD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEHC,EAAAA,EAAAA,KAAC9C,EAAW,CAAA6C,SACT3B,EAAS8B,IAAIC,IACZL,EAAAA,EAAAA,MAACzC,EAAe,CAAA0C,SAAA,EACdC,EAAAA,EAAAA,KAACxC,EAAc,CACb4C,IACED,EAASE,aAAY,kCAAAhB,OACiBc,EAASE,cAC3CC,EAENC,IAAKJ,EAASX,QAEhBQ,EAAAA,EAAAA,KAACrC,EAAS,CAAAoC,SAAEI,EAASK,iBACrBR,EAAAA,EAAAA,KAAA,QAAAD,SAAM,gBACNC,EAAAA,EAAAA,KAAClC,EAAa,CAAAiC,SAAEI,EAASM,cAXLN,EAASO,eAiBrCV,EAAAA,EAAAA,KAAChC,EAAiB,CAAC2C,KAAK,SAASC,QA9DjBC,KAClBhC,EAAS,OA6D+CkB,SAAC,a,8CC7EtDb,eAAeE,EAAY0B,GAAuB,IAAbC,EAAKC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAClD,IASE,aARuBE,EAAAA,EAAMC,IAAIL,EAAU,CACzCM,OAAQ,CACNL,QACAM,SAAU,QACVC,KAAM,MAIMC,IAClB,CAAE,MAAO9C,GAEP,MADAgB,QAAQhB,MAAM,6JAAiCA,GACzCA,CACR,CACF,CAlBAyC,EAAAA,EAAMM,SAASC,QAAU,gCACzBP,EAAAA,EAAMM,SAASE,QAAQC,OAAsB,cAAC,UAAAtC,OCH5C,uP","sources":["components/Cast/Cast.styled.js","components/Cast/Cast.js","moviesApi.js","config.js"],"sourcesContent":["import styled from '@emotion/styled';\r\n\r\nconst CastContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px 15px;\r\n\r\n  box-shadow: 0px 6px 10px -2px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst СastSection = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  padding: 0;\r\n  margin: 0 0 20px;\r\n`;\r\n\r\nconst СastSectionItem = styled.li`\r\n  width: 150px;\r\n  padding: 4px;\r\n\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  list-style-type: none;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst СastSectionImg = styled.img`\r\n  width: 100%;\r\n\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst ActorName = styled.p`\r\n  margin-top: 0;\r\n  margin-bottom: 4px;\r\n\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  line-height: 1.19;\r\n  letter-spacing: 0.03em;\r\n`;\r\n\r\nconst CharacterName = styled.p`\r\n  margin: 0;\r\n\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  line-height: 1.19;\r\n  letter-spacing: 0.03em;\r\n`;\r\n\r\nconst СastSectionButton = styled.button`\r\n  margin-left: auto;\r\n\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.07);\r\n  }\r\n`;\r\n\r\nexport {\r\n  CastContainer,\r\n  СastSection,\r\n  СastSectionItem,\r\n  СastSectionImg,\r\n  ActorName,\r\n  CharacterName,\r\n  СastSectionButton,\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchMovies } from 'moviesApi';\r\nimport noImage from 'img/no_img.jpg';\r\nimport {\r\n  CastContainer,\r\n  СastSection,\r\n  СastSectionItem,\r\n  СastSectionImg,\r\n  ActorName,\r\n  CharacterName,\r\n  СastSectionButton,\r\n} from 'components/Cast/Cast.styled';\r\n\r\nconst Cast = () => {\r\n  const [castList, setCastList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const handleClose = () => {\r\n    navigate(`..`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const getMovieCast = async () => {\r\n      try {\r\n        const resMovieCast = await fetchMovies(`movie/${movieId}/credits`, {\r\n          signal: controller.signal,\r\n        });\r\n        setCastList(resMovieCast?.cast || []);\r\n        setError(null);\r\n      } catch (error) {\r\n        if (error.name === 'AbortError') {\r\n          console.log('Request canceled');\r\n        } else {\r\n          setError(\r\n            `Failed to load cast list: ${error.message || 'Unknown error'}`,\r\n          );\r\n          console.error('Error while receiving data:', error);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getMovieCast();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <CastContainer>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : error ? (\r\n        <p>{error}</p>\r\n      ) : castList.length === 0 ? (\r\n        <p>We don't have a cast list for this movie</p>\r\n      ) : (\r\n        <СastSection>\r\n          {castList.map(castItem => (\r\n            <СastSectionItem key={castItem.credit_id}>\r\n              <СastSectionImg\r\n                src={\r\n                  castItem.profile_path\r\n                    ? `https://image.tmdb.org/t/p/w500${castItem.profile_path}`\r\n                    : noImage\r\n                }\r\n                alt={castItem.name}\r\n              />\r\n              <ActorName>{castItem.original_name}</ActorName>\r\n              <span>character:</span>\r\n              <CharacterName>{castItem.character}</CharacterName>\r\n            </СastSectionItem>\r\n          ))}\r\n        </СastSection>\r\n      )}\r\n\r\n      <СastSectionButton type=\"button\" onClick={handleClose}>\r\n        Close\r\n      </СastSectionButton>\r\n    </CastContainer>\r\n  );\r\n};\r\n\r\nexport default Cast;\r\n","import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, query = '') {\r\n  try {\r\n    const response = await axios.get(endpoint, {\r\n      params: {\r\n        query,\r\n        language: 'en-US',\r\n        page: 1,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Ошибка при получении фильмов:', error);\r\n    throw error;\r\n  }\r\n}\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n"],"names":["CastContainer","styled","div","_templateObject","_taggedTemplateLiteral","СastSection","ul","_templateObject2","СastSectionItem","li","_templateObject3","СastSectionImg","img","_templateObject4","ActorName","p","_templateObject5","CharacterName","_templateObject6","СastSectionButton","button","_templateObject7","Cast","castList","setCastList","useState","loading","setLoading","error","setError","movieId","useParams","navigate","useNavigate","useEffect","controller","AbortController","async","resMovieCast","fetchMovies","concat","signal","cast","name","console","log","message","getMovieCast","abort","_jsxs","children","_jsx","length","map","castItem","src","profile_path","noImage","alt","original_name","character","credit_id","type","onClick","handleClose","endpoint","query","arguments","undefined","axios","get","params","language","page","data","defaults","baseURL","headers","common"],"sourceRoot":""}