{"version":3,"file":"static/js/986.8303895a.chunk.js","mappings":"8JAMOA,eAAeC,EAAYC,GAAwC,IAA9B,MAAEC,EAAQ,GAAE,OAAEC,GAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAUpE,aATuBG,EAAAA,EAAMC,IAAIP,EAAU,CACzCQ,OAAQ,CACNP,QACAQ,SAAU,QACVC,KAAM,GAERR,YAGcS,IAClB,CAdAL,EAAAA,EAAMM,SAASC,QAAU,gCACzBP,EAAAA,EAAMM,SAASE,QAAQC,OAAsB,cAAC,UAAAC,OCH5C,uP,sGCCF,MAAMC,EAAmBC,EAAAA,EAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qIAQ7BC,EAAiBJ,EAAAA,EAAOK,GAAEC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,uCAK1BI,EAAqBP,EAAAA,EAAOQ,GAAEC,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,oCAI9BO,EAAuBV,EAAAA,EAAOW,OAAMC,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,wJ,aCT1C,MAoEA,EApEgBU,KACd,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC7B,QAAEK,IAAYC,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,MAsCjB,OAhCAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAa,IAAIC,gBAyBvB,MAvBwB/C,WACtB,IACE,MAAMgD,QAAwB/C,EAAAA,EAAAA,GAAY,UAADiB,OAAWuB,EAAO,YAAY,CACrErC,OAAQ0C,EAAW1C,SAErB+B,GAA0B,OAAfa,QAAe,IAAfA,OAAe,EAAfA,EAAiBC,UAAW,IACvCT,EAAS,KACX,CAAE,MAAOD,GACP,GAAmB,iBAAfA,EAAMW,KAER,OAEAV,EAAS,2BAADtB,OACqBqB,EAAMY,SAAW,kBAE9CC,QAAQb,MAAM,8BAA+BA,EAEjD,CAAC,QACCD,GAAW,EACb,GAEFe,GAEO,KACLP,EAAWQ,QACXF,QAAQG,IAAI,qOAEb,CAACd,KAGFe,EAAAA,EAAAA,MAACrC,EAAgB,CAAAsC,SAAA,CACdpB,GACCqB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eACDlB,GACFmB,EAAAA,EAAAA,KAAA,KAAAD,SAAIlB,IACiB,IAAnBL,EAAQ5B,QACVoD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEHC,EAAAA,EAAAA,KAAClC,EAAc,CAAAiC,SACZvB,EAAQyB,IAAIC,IACXJ,EAAAA,EAAAA,MAAC7B,EAAkB,CAAA8B,SAAA,EACjBC,EAAAA,EAAAA,KAAA,MAAAD,SAAKG,EAAOC,UACZH,EAAAA,EAAAA,KAAA,KAAAD,SAAIG,EAAOE,YAFYF,EAAOG,QAOtCL,EAAAA,EAAAA,KAAC5B,EAAoB,CAACkC,KAAK,SAASC,QAtDpBC,KAClBvB,EAAS,OAqDkDc,SAAC,a","sources":["moviesApi.js","config.js","components/Reviews/Reviews.styled.js","components/Reviews/Reviews.js"],"sourcesContent":["import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, { query = '', signal } = {}) {\r\n  const response = await axios.get(endpoint, {\r\n    params: {\r\n      query,\r\n      language: 'en-US',\r\n      page: 1,\r\n    },\r\n    signal,\r\n  });\r\n\r\n  return response.data;\r\n}\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n","import styled from '@emotion/styled';\r\n\r\nconst ReviewsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px 15px;\r\n\r\n  box-shadow: 0px 6px 10px -2px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst ReviewsSection = styled.ul`\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\n\r\nconst ReviewsSectionItem = styled.li`\r\n  list-style-type: none;\r\n`;\r\n\r\nconst ReviewsSectionButton = styled.button`\r\n  margin-left: auto;\r\n\r\n   transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    transform: scale(1.07);\r\n`;\r\n\r\nexport {\r\n  ReviewsContainer,\r\n  ReviewsSection,\r\n  ReviewsSectionItem,\r\n  ReviewsSectionButton,\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchMovies } from 'moviesApi';\r\nimport {\r\n  ReviewsContainer,\r\n  ReviewsSection,\r\n  ReviewsSectionItem,\r\n  ReviewsSectionButton,\r\n} from 'components/Reviews/Reviews.styled';\r\n\r\nconst Reviews = () => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const handleClose = () => {\r\n    navigate(`..`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const getMovieReviews = async () => {\r\n      try {\r\n        const resMovieReviews = await fetchMovies(`/movie/${movieId}/reviews`, {\r\n          signal: controller.signal,\r\n        });\r\n        setReviews(resMovieReviews?.results || []);\r\n        setError(null);\r\n      } catch (error) {\r\n        if (error.code === 'ERR_CANCELED') {\r\n          // Запрос отменён — просто игнорируем\r\n          return;\r\n        } else {\r\n          setError(\r\n            `Failed to load reviews: ${error.message || 'Unknown error'}`,\r\n          );\r\n          console.error('Error while receiving data:', error);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getMovieReviews();\r\n\r\n    return () => {\r\n      controller.abort();\r\n      console.log('Reviews: Компонент размонтирован, запрос прерван');\r\n    };\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <ReviewsContainer>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : error ? (\r\n        <p>{error}</p>\r\n      ) : reviews.length === 0 ? (\r\n        <p>We don't have any reviews for this movie</p>\r\n      ) : (\r\n        <ReviewsSection>\r\n          {reviews.map(review => (\r\n            <ReviewsSectionItem key={review.id}>\r\n              <h4>{review.author}</h4>\r\n              <p>{review.content}</p>\r\n            </ReviewsSectionItem>\r\n          ))}\r\n        </ReviewsSection>\r\n      )}\r\n      <ReviewsSectionButton type=\"button\" onClick={handleClose}>\r\n        Close\r\n      </ReviewsSectionButton>\r\n    </ReviewsContainer>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n"],"names":["async","fetchMovies","endpoint","query","signal","arguments","length","undefined","axios","get","params","language","page","data","defaults","baseURL","headers","common","concat","ReviewsContainer","styled","div","_templateObject","_taggedTemplateLiteral","ReviewsSection","ul","_templateObject2","ReviewsSectionItem","li","_templateObject3","ReviewsSectionButton","button","_templateObject4","Reviews","reviews","setReviews","useState","loading","setLoading","error","setError","movieId","useParams","navigate","useNavigate","useEffect","controller","AbortController","resMovieReviews","results","code","message","console","getMovieReviews","abort","log","_jsxs","children","_jsx","map","review","author","content","id","type","onClick","handleClose"],"sourceRoot":""}