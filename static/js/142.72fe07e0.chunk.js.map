{"version":3,"file":"static/js/142.72fe07e0.chunk.js","mappings":"sQAKA,MA4EA,EA5EaA,KACX,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC7B,QAAEK,IAAYC,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,MAoCjB,OA9BAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAa,IAAIC,gBAwBvB,MAtBqBC,WACnB,IACE,MAAMC,QAAqBC,EAAAA,EAAAA,IAAY,SAADC,OAAUV,EAAO,YAAY,CACjEW,OAAQN,EAAWM,SAErBjB,GAAwB,OAAZc,QAAY,IAAZA,OAAY,EAAZA,EAAcI,OAAQ,IAClCb,EAAS,KACX,CAAE,MAAOD,GACY,eAAfA,EAAMe,KACRC,QAAQC,IAAI,qBAEZhB,EAAS,6BAADW,OACuBZ,EAAMkB,SAAW,kBAEhDF,QAAQhB,MAAM,8BAA+BA,GAEjD,CAAC,QACCD,GAAW,EACb,GAEFoB,GAEO,KACLZ,EAAWa,UAEZ,CAAClB,KAGFmB,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACGxB,GACCyB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eACDtB,GACFuB,EAAAA,EAAAA,KAAA,KAAAD,SAAItB,IACkB,IAApBL,EAAS6B,QACXD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEHC,EAAAA,EAAAA,KAAA,MAAAD,SACG3B,EAAS8B,IAAIC,IACZL,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OACEI,IACED,EAASE,aAAY,kCAAAhB,OACiBc,EAASE,cAC3CC,EAENC,IAAKJ,EAASX,QAGhBQ,EAAAA,EAAAA,KAAA,KAAAD,SAAII,EAASK,iBACbR,EAAAA,EAAAA,KAAA,KAAAD,SAAA,cAAAV,OAAkBc,EAASM,eAXpBN,EAASO,eAiBxBV,EAAAA,EAAAA,KAAA,UAAQW,KAAK,SAASC,QA9DNC,KAClBhC,EAAS,OA6DoCkB,SAAC,a,+CCpE3Cb,eAAeE,EAAY0B,GAAuB,IAAbC,EAAKC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAClD,IAUE,aATuBE,EAAAA,EAAMC,IAAIL,EAAU,CACzCM,OAAQ,CACNL,QACAM,SAAU,QACVC,KAAM,MAKMC,IAClB,CAAE,MAAO9C,GAEP,MADAgB,QAAQhB,MAAM,6JAAiCA,GACzCA,CACR,CACF,CAnBAyC,EAAAA,EAAMM,SAASC,QAAU,gCACzBP,EAAAA,EAAMM,SAASE,QAAQC,OAAsB,cAAC,UAAAtC,OCH5C,wPDuBFD,EAAY,sBAAsBwC,KAAKC,GAAUpC,QAAQC,IAAImC,G","sources":["components/Cast/Cast.js","moviesApi.js","config.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchMovies } from 'moviesApi';\r\nimport noImage from 'img/no-image.jpg';\r\n\r\nconst Cast = () => {\r\n  const [castList, setCastList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const handleClose = () => {\r\n    navigate(`..`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const getMovieCast = async () => {\r\n      try {\r\n        const resMovieCast = await fetchMovies(`movie/${movieId}/credits`, {\r\n          signal: controller.signal,\r\n        });\r\n        setCastList(resMovieCast?.cast || []);\r\n        setError(null);\r\n      } catch (error) {\r\n        if (error.name === 'AbortError') {\r\n          console.log('Request canceled');\r\n        } else {\r\n          setError(\r\n            `Failed to load cast list: ${error.message || 'Unknown error'}`,\r\n          );\r\n          console.error('Error while receiving data:', error);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getMovieCast();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : error ? (\r\n        <p>{error}</p>\r\n      ) : castList.length === 0 ? (\r\n        <p>We don't have a cast list for this movie</p>\r\n      ) : (\r\n        <ul>\r\n          {castList.map(castItem => (\r\n            <li key={castItem.credit_id}>\r\n              <img\r\n                src={\r\n                  castItem.profile_path\r\n                    ? `https://image.tmdb.org/t/p/w200${castItem.profile_path}`\r\n                    : noImage\r\n                }\r\n                alt={castItem.name}\r\n              />\r\n\r\n              <p>{castItem.original_name}</p>\r\n              <p>{`Character: ${castItem.character}`}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n\r\n      <button type=\"button\" onClick={handleClose}>\r\n        Close\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cast;\r\n","import axios from 'axios';\r\nimport { TMDB_API_KEY } from 'config';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${TMDB_API_KEY}`;\r\n\r\nexport async function fetchMovies(endpoint, query = '') {\r\n  try {\r\n    const response = await axios.get(endpoint, {\r\n      params: {\r\n        query,\r\n        language: 'en-US',\r\n        page: 1,\r\n        // include_adult: false,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Ошибка при получении фильмов:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nfetchMovies('trending/movie/day').then(result => console.log(result));\r\n\r\nconst movies = [\r\n  { id: 'm-1', name: 'Movie 1' },\r\n  { id: 'm-2', name: 'Movie 2' },\r\n  { id: 'm-3', name: 'Movie 3' },\r\n];\r\n\r\nexport const getMovies = () => {\r\n  return movies;\r\n};\r\n\r\nexport const getMovieByName = movieName => {\r\n  return movies.find(\r\n    movie => movie.name.toLowerCase().trim() === movieName.toLowerCase().trim(),\r\n  );\r\n};\r\n\r\nexport const getMovieById = movieId => {\r\n  return movies.find(movie => movie.id === movieId);\r\n};\r\n","export const TMDB_API_KEY =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc';\r\n"],"names":["Cast","castList","setCastList","useState","loading","setLoading","error","setError","movieId","useParams","navigate","useNavigate","useEffect","controller","AbortController","async","resMovieCast","fetchMovies","concat","signal","cast","name","console","log","message","getMovieCast","abort","_jsxs","children","_jsx","length","map","castItem","src","profile_path","noImage","alt","original_name","character","credit_id","type","onClick","handleClose","endpoint","query","arguments","undefined","axios","get","params","language","page","data","defaults","baseURL","headers","common","then","result"],"sourceRoot":""}