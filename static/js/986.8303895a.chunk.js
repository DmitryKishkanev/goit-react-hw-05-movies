"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[986],{272:(e,n,i)=>{i.d(n,{M:()=>r});var t=i(341);async function r(e){let{query:n="",signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await t.A.get(e,{params:{query:n,language:"en-US",page:1},signal:i})).data}t.A.defaults.baseURL="https://api.themoviedb.org/3/",t.A.defaults.headers.common.Authorization="Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc")},605:(e,n,i)=>{i.r(n),i.d(n,{default:()=>v});var t,r,s,a,o=i(43),l=i(163),c=i(272),d=i(528),u=i(191);const h=u.A.div(t||(t=(0,d.A)(["\n  display: flex;\n  flex-direction: column;\n  padding: 15px 15px;\n\n  box-shadow: 0px 6px 10px -2px rgba(0, 0, 0, 0.2);\n"]))),m=u.A.ul(r||(r=(0,d.A)(["\n  padding: 0;\n  margin: 0;\n"]))),p=u.A.li(s||(s=(0,d.A)(["\n  list-style-type: none;\n"]))),g=u.A.button(a||(a=(0,d.A)(["\n  margin-left: auto;\n\n   transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    transform: scale(1.07);\n"])));var x=i(579);const v=()=>{const[e,n]=(0,o.useState)([]),[i,t]=(0,o.useState)(!0),[r,s]=(0,o.useState)(null),{movieId:a}=(0,l.g)(),d=(0,l.Zp)();return(0,o.useEffect)(()=>{const e=new AbortController;return(async()=>{try{const i=await(0,c.M)("/movie/".concat(a,"/reviews"),{signal:e.signal});n((null===i||void 0===i?void 0:i.results)||[]),s(null)}catch(r){if("ERR_CANCELED"===r.code)return;s("Failed to load reviews: ".concat(r.message||"Unknown error")),console.error("Error while receiving data:",r)}finally{t(!1)}})(),()=>{e.abort(),console.log("Reviews: \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0440\u0430\u0437\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d, \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0435\u0440\u0432\u0430\u043d")}},[a]),(0,x.jsxs)(h,{children:[i?(0,x.jsx)("p",{children:"Loading..."}):r?(0,x.jsx)("p",{children:r}):0===e.length?(0,x.jsx)("p",{children:"We don't have any reviews for this movie"}):(0,x.jsx)(m,{children:e.map(e=>(0,x.jsxs)(p,{children:[(0,x.jsx)("h4",{children:e.author}),(0,x.jsx)("p",{children:e.content})]},e.id))}),(0,x.jsx)(g,{type:"button",onClick:()=>{d("..")},children:"Close"})]})}}}]);
//# sourceMappingURL=986.8303895a.chunk.js.map