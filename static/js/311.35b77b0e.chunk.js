"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[311],{272:(e,t,n)=>{n.d(t,{MM:()=>r});var i=n(722);async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return(await i.A.get(e,{params:{query:t,language:"en-US",page:1}})).data}catch(n){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u043e\u0432:",n),n}}i.A.defaults.baseURL="https://api.themoviedb.org/3/",i.A.defaults.headers.common.Authorization="Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYWFmYmIxZWZkZjU2YjM4ZjMyMDkxNDQ4ZmQ1NzE0YiIsIm5iZiI6MTc1NDY2MTIxOC41MTgwMDAxLCJzdWIiOiI2ODk2MDE2MmM0Y2JlYmMwMjMyMDk0MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.P47mO6J1PstuFmtnnKhPnNCAj4UmbDKKH1LFUJOKGtc"),r("trending/movie/day").then(e=>console.log(e))},311:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var i=n(43),r=n(163),o=n(272),s=n(579);const a=()=>{const[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),{movieId:d}=(0,r.g)(),h=(0,r.Zp)();return(0,i.useEffect)(()=>{const e=new AbortController;return(async()=>{try{const n=await(0,o.MM)("/movie/".concat(d,"/reviews"),{signal:e.signal});t((null===n||void 0===n?void 0:n.results)||[]),c(null)}catch(l){"AbortError"===l.name?console.log("Request canceled"):(c("Failed to load reviews: ".concat(l.message||"Unknown error")),console.error("Error while receiving data:",l))}finally{a(!1)}})(),()=>{e.abort()}},[d]),(0,s.jsxs)("div",{children:[n?(0,s.jsx)("p",{children:"Loading..."}):l?(0,s.jsx)("p",{children:l}):0===e.length?(0,s.jsx)("p",{children:"We don't have any reviews for this movie"}):(0,s.jsx)("ul",{children:e.map(e=>(0,s.jsxs)("li",{children:[(0,s.jsx)("h4",{children:e.author}),(0,s.jsx)("p",{children:e.content})]},e.id))}),(0,s.jsx)("button",{type:"button",onClick:()=>{h("..")},children:"Close"})]})}}}]);
//# sourceMappingURL=311.35b77b0e.chunk.js.map